$default-font-size: 16px;
$default-font-family: Helvetica, Arial, sans-serif;
$font-color: #333;
$border-color: #ccc;
$link-color: #18b8f7;
$gutter: 16px;
$default-accent: #06498d;

$leftWidth: 71.117%;
$rightWidth: 28.883%;

@import "compass/reset/utilities";
@import "compass/css3/box-sizing";
@import "compass/utilities/general/clearfix";
@import "compass/css3/flexbox";
@import "compass/css3/user-interface";
@import "compass/css3/transform";
@import "compass/css3/background-size";
@import "compass/css3/border-radius";
@import "../fonts/sbplus_fonts.css";
@import "../fonts/museo.css";

@function rem( $px, $base: $default-font-size ) {
    
    @return ( $px / $base ) * 1rem;
    
}


@mixin excerpt( $font-size: 12px, $line-height: 1.4, $lines-to-show: 2, $excerpt-bg: transparent ) {
    
    background: $excerpt-bg;
    display: block;
    display: -webkit-box;
    max-height: $font-size * $line-height * $lines-to-show;
    font-size: $font-size;
    line-height: $line-height;
    -webkit-line-clamp: $lines-to-show;
    -webkit-box-orient: vertical;
    overflow: hidden;
    text-overflow: ellipsis;
    
    @-moz-document url-prefix() {
        
        overflow: hidden;
        position: relative;
        
        &:before {
            background: $excerpt-bg;
            bottom: 0;
            position: absolute;
            right: 1px;
            right: rem( 1px );
            float: right;
            content: '\2026';
            margin-left: -3rem;
            width: 2rem;
        }
        
        &:after {
            content: '';
            background: $excerpt-bg;
            position: absolute;
            height: 25px;
            height: rem( 25px );
            width: 80%;
            z-index: 1;
        }
        
    }
    
    @media screen and ( -ms-high-contrast: active ), ( -ms-high-contrast: none ) {
        
        overflow: hidden;
        position: relative;
        
        &:before {
            background: $excerpt-bg;
            bottom: 0;
            position: absolute;
            right: 1px;
            float: right;
            content: '\2026';
            margin-left: -3rem;
            width: 2rem;
        }
        
        &:after {
            content: '';
            background: $excerpt-bg;
            position: absolute;
            height: 25px;
            width: 80%;
            z-index: 1;
        }
        
    }
    
}

@mixin aspect-ratio( $width, $height ) {
    
    position: relative;
    
    &:before {
        display: block;
        content: "";
        width: 100%;
        padding-top: ($height / $width) * 100%;
    }
    
    > .content {
        position: absolute;
        top: 0;
        left: 0;
        right: 0;
        bottom: 0;
    }
    
}


/**************************
    GENERAL RULES
**************************/

*, *:before, *:after {
    @include box-sizing( border-box );
}

*:focus {
    outline: 1px dashed;
}

html {
    height: 100%;
    font-size: $default-font-size;
    margin: 0;
    padding: 0;
}

body {
    @extend html;
    font-family: $default-font-family;
    line-height: 16px;
	line-height: rem( 16px );
	color: $font-color;
}

h1, h2, h3, h4, h5, h6, p, blockquote, ol, ul, li {
    margin: $gutter 0;
    margin: rem( $gutter ) 0;
}

ul {
    list-style: disc;
    margin-left: 25px;
    margin-left: rem( 25px ); 
}

a, a:visited {               
    color: $link-color;
    text-decoration: none;
}

a:hover {
    text-decoration: underline;
}

strong {
    font-weight: bold;
}

button {
    padding: 10px 20px;
    padding: rem( 10px ) rem( 12px );
    font-size: 18px;
    font-size: rem( 18px );
    font-family: $default-font-family;
    line-height: normal;
    color: #fff;
    border: 0;
    cursor: pointer;
}

noscript {
    
    h1 {
        font-size: 24px;
        font-size: rem( 24px );
        line-height: 32px;
        line-height: rem( 32px );
    }
    
    p {
        line-height: 22px;
        line-height: rem( 22px );
    }   
    
}

/**************************
    STORYBOOK PLUS RULES
**************************/

.sbplus_wrapper {
    
    width: 100%;
    height: 100%;
    overflow: hidden;

    // error screen
    .error {
        
        padding: 5px 20px 0;
        padding: rem( 5px ) rem( 20px ) 0;
        
        h1 {
            font-size: 24px;
            font-size: rem( 24px );
            line-height: normal;
            font-weight: bold;
            color: #bc0909;
        } 
        
        p {
            font-size: $default-font-size;
            font-size: rem( $default-font-size );
            line-height: normal;
        }
        
    }
    
    // main storybook
    .sbplus {
        
        height: 100%;
        
        .splashscreen {
            
            .splash_background {
                
                position: absolute;
                top: 0;
                left: 0;
                width: 100%;
                height: 100%;
                background-color: #fff;
                background-position: center center;
                background-repeat: no-repeat;
                @include background-size( cover );
                z-index: -1;
                
            }
            
            .splashinfo_wrapper {
                
                @include display-flex( flex );
                @include align-items( center );
                @include justify-content( center );
                position: absolute;
                top: 0;
                left: 0;
                width: 100%;
                height: 100%;
                background-color: transparent;
                
                .splashinfo {
                    
                    min-width: 33%;
                    max-width: 50%;
                    padding: 18px 30px 20px;
                    padding: rem( 18px ) rem( 30px ) rem( 20px );
                    background-color: rgba( 255, 255, 255, 0.60 );
                    @include border-radius( 5px );
                    
                    .title {
                        font-family: 'MuseoSans-700';
                        font-weight: bold;
                        font-size: 20px;
                        font-size: rem( 20px );
                        line-height: 26px;
                        line-height: rem( 26px );
                        margin: 0;
                    }
                    
                    .subtitle {
                        font-size: 18px;
                        font-size: rem( 18px );
                        line-height: 24px;
                        line-height: rem( 24px );
                        line-height: normal;
                        margin: 0 0 $gutter;
                        margin: 0 0 rem( $gutter );
                    }
                    
                    .author {
                        margin: 0 0 $gutter;
                        margin: 0 0 rem( $gutter );
                    }
                    
                    .length {
                        @extend .author;
                    }
                    
                    .playControls {
                        
                        @include display-flex();
                        @include flex-flow(row nowrap);
                        @include justify-content( space-around );
                        
                        .startBtn {
                            
                            @include flex(1);
                            
                            button {
                                width: 100%;
                                margin: 0;
                                text-align: center;
                                background-color: $default-accent;
                                padding-right: 10px;
                                padding-right: rem( 10px );
                                padding-left: 10px;
                                padding-left: rem( 10px );
                            }
                            
                        }
                        
                        .resumeBtn {
                            @extend .startBtn;
                            margin-left: rem( 5px );
                        }
                        
                    }
                    
                    .download_files {
                        
                        @include display-flex();
                        @include flex-flow(row wrap);
                        @include justify-content(space-between);

                        margin: $gutter 0 0;
                        margin: rem( $gutter ) 0 0;
                        font-size: 12px;
                        font-size: rem( 12px );
                        
                        .dl_item {
                            
                            @include flex(1);
                            min-width: 110px;
                            min-width: rem( 110px );
                            margin-left: 5px;
                            margin-left: rem( 5px );
                            margin-bottom: 5px;
                            margin-bottom: rem( 5px );
                           
                           a {
                                display: block;
                                height: 30px;
                                height: rem( 30px );
                                color: #fff;
                                font-size: 14px;
                                font-size: rem( 14px );
                                padding: 6px;
                                padding: rem( 6px );
                                text-align: center;
                               
                           }
                            
                            
                        }
                        
                        .dl_item:first-child {
                            margin-left: 0;
                        }
                        
                        .dl_item:hover {
                            a {
                                text-decoration: none;
                            }
                        }
                        
                    }
                    
                    .popoutBtn {
                        position: absolute;
                        font-size: 200%;
                        line-height: 0;
                        bottom: 0;
                        right: 0;
                        color: #000;
                        background-color: transparent;
                    }                       
                    
                }
                
                @supports (-webkit-backdrop-filter: none) or (backdrop-filter: none) {
                    .splashinfo {
                        -webkit-backdrop-filter: blur( 8px );
                        backdrop-filter: blur( 8px );
                    }
                }
                
            }
            
        } // end splashscreen
        
        .main_content_wrapper {
            
            position: relative;
            height: 100%;
            
            .title_bar {
                
                @include display-flex( flex );
                @include flex-flow( row nowrap );
                
                width: 100%;
                height: 30px;
                height: rem( 30px );
                color: #fff;
                background-color: $font-color;
                
                .title {
                    
                    @include flex(3 1 $leftWidth);
                    font-family: 'MuseoSans-700';
                    line-height: 33px;
                    line-height: rem( 33px );
                    padding: 0 10px;
                    padding: 0 rem( 10px );
                    white-space: nowrap;
                    text-overflow: ellipsis;
                    overflow: hidden;
                }
                
                .author {
                    @extend .title;
                    @include flex(2 1 ( 100% - $leftWidth - 3.5% ) );
                                        
                }
                
                .menuBtn {
                    
                    @extend .title;
                    @include flex(1 0 3.5%);
                    
                    //min-width: rem( 40px );
                    height: 30px;
                    height: rem( 30px );
                    text-align: center;
                    border: none;
                    color: #fff;
                    padding: 0;
                    background-color: transparent;
                    
                    [class^="icon-"] {
                        font-size: 16px;
                        font-size: rem( 16px );
                        line-height: 30px;
                        line-height: rem( 30px );
                    }
                    
                }
                
                .menuBtn:hover{
                    
                    [class^="icon-"] {
                        color: $link-color;
                    }
                    
                }
                
            }
            
            .page_container {
                
                width: $leftWidth;
                
                .slideError {
                    
                    position: absolute;
                    width: 100%;
                    top: 0;
                    left: 0;
                    color: #fff;
                    padding: rem( $gutter );
                    z-index: 2;
                    background-color: #f00;
                    
                }
                
                .content {
                    
                    background-color: #000;
                    
                    img {
                        width: 100%;
                        height: auto;
                    }
                    
                    .assessment {
                        
                        width: 100%;
                        height: 100%;
                        background-color: #ebebeb;
                        padding: rem( $gutter );
                        
                        * {
                            margin-bottom: rem( $gutter );
                        }
                        
                        .header {
                            font-size: 12px;
                            line-height: normal;
                            color: #535353;
                        }
                        
                        .title {
                            
                            font-weight: bold;
                            
                            small {
                                display: block;
                                font-weight: normal;
                                margin: rem( $gutter ) 0;
                            }
                            
                            img {
                                display: block;
                                margin: $gutter 0 0;
                            }
                            
                            audio {
                                display: block;
                                margin: $gutter 0 0;
                            }
                            
                        }
                        
                        label {
                            
                            display: block;
                            margin-bottom: rem( 10px );
                            
                            input {
                                margin-bottom: 0;
                            }
                            
                        }
                        
                        .hasImages {
                            
                            @include display-flex();
                            @include flex-flow(row wrap);
                            @include justify-content(flex-start);
                            @include align-items(flex-start);
                            margin-bottom: 0;
                            
                            label {
                                
                                @include display-flex();
                                @include flex(1 0 15%);
                                margin-right: 5px;
                                margin-bottom: 0;
                                
                                input {
                                    position: absolute;
                                }
                                
                                img {
                                    display: block;
                                    height: 100%;
                                }
                                
                            }
                            
                        }
                        
                        .hasAudio {
                            
                            margin-bottom: 0;
                            
                            label {
                                
                                position: relative;
                                
                                input {
                                    position: absolute;
                                    top: 5px;
                                }
                                
                                audio {
                                    margin: 0 0 0 25px;
                                }
                                
                            }
                            
                        }
                        
                        input[type=text] {
                            display: block;
                            width: 100%;
                            height: rem( 30px );
                            padding: rem( 5px );
                            font-family: $default-font-family;
                            font-size: rem( 14px );
                            line-height: rem( 16px );
                            margin-bottom: 0;
                        }
                        
                        textarea {
                            width: 100%;
                            height: 200px;
                            padding: rem( 5px );
                            font-family: $default-font-family;
                            font-size: rem( 14px );
                            line-height: rem( 16px );
                            resize: none;
                            margin-bottom: 0;
                        }
                        
                        button {
                            font-size: 16px;
                            line-height: 16px;
                            padding: rem( 10px ) rem( 10px ) rem( 8px );
                            background-color: #4ba14b;
                            text-transform: uppercase;
                            @include border-radius( 5px );
                            margin-top: rem( $gutter );
                        }
                        
                        button:hover {
                            background-color: #5bb75b;
                        }
                        
                        .content {
                            
                            font-size: 14px;
                            font-size: rem( 14px );
                            line-height: 18px;
                            line-height: rem( 18px );
                            background-color: transparent;
                            
                            ul {
                                
                                margin-top: 0;
                                padding: 0;
                                
                                li {
                                    margin: 0 0 3px;
                                }
                                
                                li:last-child {
                                    margin: 0;
                                }
                                
                            }
                            
                            img {
                                width: 25%;
                                margin: 0;
                            }
                            
                            .images {
                                
                                @include display-flex();
                                @include flex-flow(row wrap);
                                @include justify-content(flex-start);
                                @include align-items(flex-start);
                                list-style: none;
                                margin: 0;
                                padding: 0;
                                
                                li {
                                    
                                    @include display-flex();
                                    @include flex(1 0 15%);
                                    margin-right: 5px;
                                    
                                    img {
                                        width: 100%;
                                        height: 100%;
                                        margin-bottom: 0;
                                    }
                                    
                                }
                                
                            }
                            
                            .audio {
                                
                                list-style: none;
                                margin: 0;
                                padding: 0;
                                
                                li {
                                    margin: 0;
                                    
                                    audio {
                                        margin: 0;
                                    }
                                    
                                }
                            }
                
                        }
                        
                        .correctStatus {
                            font-size: 14px;
                            line-height: 14px;
                            background-color: #50de50;
                            padding: 10px;
                            padding: rem( 10px );
                            border-left: 5px solid #08b108;
                            @include border-radius( 5px );
                        }
                        
                        .incorrectStatus {
                            @extend .correctStatus;
                            color: #141414;
                            background-color: #ec91a5;
                            border-left-color: #b0092d;
                        }
                        
                        .error {
                            @extend .incorrectStatus;
                        }
                        
                    }
                    
                    // videojs
                    .video-js.vjs-default-skin {
                        
                        width: 100%;
                        height: 100%;
                        font-size: 11px;
                        color: #fff;
                        
                        .sbplus-vjs-poster {
                            display: inline-block;
                            vertical-align: middle;
                            background-repeat: no-repeat;
                            background-position: center center;
                            background-size: contain;
                            background-color: #000;
                            cursor: pointer;
                            margin: 0;
                            padding: 0;
                            position: absolute;
                            top: 0;
                            right: 0;
                            bottom: 0;
                            left: 0;
                            height: 100%;
                            z-index: 0;
                        }
                        
                        .vjs-text-track-display {
                            z-index: 1;
                        }
                        
                        .vjs-tech {
                            z-index: 1;
                        }
                        
                        .vjs-big-play-button {
                            font-size: 3em;
                            line-height: 1.5em;
                            height: 1.5em;
                            width: 3em;
                            border: 0.06666em solid #fff;
                            border-radius: 0.3em;
                            left: 50%;
                            top: 50%;
                            margin-left: -1.5em;
                            margin-top: -0.75em;
                            z-index: 1;
                        }
                        
                        .vjs-control-bar {
                            z-index: 2;
                        }
                        
                        .vjs-menu {
                            
                            font-family: $default-font-family;
                            
                            .vjs-menu-content {
                                
                                .vjs-menu-item.vjs-selected {
                                    position: relative;
                                    color: #fff;
                                    background-color: rgba( 255, 255, 255, 0.25);
                                }
                                
                                .vjs-menu-item.vjs-selected:before {
                                    position: absolute;
                                    top: 3px;
                                    top: rem( 3px );
                                    left: 4px;
                                    left: rem( 4px );
                                    width: 10px;
                                    width: rem( 10px );
                                    height: 10px;
                                    height: rem( 10px );
                                    font-family: 'sbplus';
                                    content: '\edba';
                                    font-size: 10px;
                                    font-size: rem( 10px );
                                }
                                
                            }
                            
                        }
                        
                        /* subtitles button */
                        .vjs-subtitles-button.vjs-menu-button-popup {
                            
                            .vjs-menu {
                                left: -6em;
                            }
                            
                        }
                        
                        /* resolution plugin */

                        .vjs-resolution-button {
                            font-family: VideoJS;
                        }
                        
                        .vjs-resolution-button .vjs-resolution-button-staticlabel:before {
                            content: '\f110';
                            font-size: 1.8em;
                            line-height: 1.67;
                        }
                        
                        .vjs-resolution-button .vjs-resolution-button-label {
                            font-size: 1.2em;
                            line-height: 2.50em;
                            position: absolute;
                            top: 0;
                            left: 0;
                            width: 100%;
                            height: 100%;
                            text-align: center;
                            box-sizing: inherit;
                        }
                        
                        .vjs-resolution-button ul.vjs-menu-content {
                            width: 7em;
                        }
                        
                        .vjs-resolution-button .vjs-menu {
                            left: -1.8em;
                        }
                        
                    }
                    
                }
                
                .html {
                    
                    border-left: 1px solid $border-color;
                    background-color: #fff;
                    
                    iframe {
                        border: none;
                        width: 100%;
                        height: 100%;
                        background-color: #fff;
                        overflow-y: auto;
                    }
                    
                }
                
/*
                .audio {
                    
                    .vjs-has-started {
                        
                        .vjs-tech::-webkit-media-text-track-display {
                            z-index: 2;
                        }
                        
                        .vjs-poster {
                            display: block;
                            z-index: 1;
                        }
                        
                    }
                    
                }
*/
                
                .img-only {
                    
                    @include display-flex();
                    
                    img {
                        object-fit: contain;
                    }
                    
                }
                
            }
            
            .aspect-ratio {
                
                @include aspect-ratio( 16, 9 );
                
            }
            
            .widget_container {
                                
                @include display-flex( flex );
                @include flex-flow( row nowrap );
                
                width: 100%;
                
                .left_side {
                    
                    @include display-flex( flex );
                    @include flex-flow( row wrap );
                    @include flex(2 1 $leftWidth);
                    
                    .notes {
                        
                        width: 100%;
                        border: 1px solid $border-color;
                        border: rem( 1px ) solid $border-color;
                        border-bottom: none;
                        border-right: none;
                        padding: 10px 10px 0;
                        padding: rem( 10px ) rem( 10px ) 0;
                        overflow-y: auto;
                        
                        font-size: 14px;
                        font-size: rem( 14px );
                        line-height: 18px;
                        line-height: rem( 18px );
                        
                        @include border-radius( 0 );
                        @include nested-reset;
                        
                        strong {
                            font-weight: bold;
                        }
                        
                        em {
                            font-style: italic;
                        }
                        
                        h1, h2 {
                            font-size: 18px;
                            font-size: rem( 18px );
                            font-weight: bold;
                            line-height: 22px;
                            line-height: rem( 22px );
                        }
                        
                        h3 {
                            font-size: 16px;
                            font-size: rem( 16px );
                            font-weight: bold;
                            line-height: 20px;
                            line-height: rem( 20px );
                        }
                        
                        h4 {
                            font-size: 14px;
                            font-size: rem( 14px );
                            font-weight: bold;
                        }
                        
                        p {
                            margin: rem( 12px ) 0;
                        }
                        
                        p:first-child {
                            margin-top: 0;
                        }
                        
                        a {
                            color: #00f;
                        }
                        
                        ul {
                            
                            margin: rem( 12px ) 0;
                            list-style: disc inside;
                            padding-left: 10px;
                            padding-left: rem( 10px );
                            
                            li {
                                margin: rem( 5px ) 0;
                            }
                            
                        }
                        
                        ol {
                            @extend ul;
                            list-style: decimal inside;
                        }
                        
                    }
                    
                    .noNotes {
                        
                        @include display-flex();
                        @include justify-content( center );
                        background-color: #ebebeb;
                        
                        img {
                            width: 30%;
                        }
                        
                    }
                    
                    .control_bar_wrapper {
                        
                        @include display-flex();
                        @include flex-flow( row nowrap );
                        @include justify-content( flex-start );
                        
                        width: 100%;
                        height: 40px;
                        height: rem( 40px );
                        border: 1px solid $border-color;
                        border: rem( 1px ) solid $border-color;
                        border-right: none;
                        
                        .left_controls {
                            @include display-flex();
                            @include flex-flow(row nowrap);
                            @include justify-content(flex-start);
                            @include flex(1 1 auto);
                        }
                        
                        .status {
                            
                            @include flex(2 1 80%);
                            font-weight: bold;
                            padding: 13px 13px 0 13px;
                            padding: rem( 13px ) rem( 13px ) 0 rem( 13px );
                            
                        }
                        
                        .right_controls {
                            
                            @include display-flex();
                            @include flex-flow(row nowrap);
                            @include justify-content(flex-end);
                            @include flex(1 1 auto);
                            
                            .expandOnly {
                                @include display-flex();
                                @include flex-flow(row nowrap);
                            }
                        }
                        
                        button {
                            
                            color: $font-color;
                            width: 60px;
                            width: rem( 60px );
                            text-align: center;
                            border-right: 1px solid $border-color;
                            border-right: rem( 1px ) solid $border-color;
                            background-color: transparent;
                            margin: 0;
                            
                        }
                        
                        button:hover {
                            
                            color: $default-accent;
                            
                        }
                        
                        .expandContractBtn, .popoutBtn, .notesBtn, .tocBtn, .downloadsBtn {
                            border-right: none;
                            border-left: 1px solid $border-color;
                            border-left: rem( 1px ) solid $border-color;
                        }
                        
                        .active {
                            color: $default-accent;
                            background-color: #eee;
                        }
                        
                        .downloadsMenu_wrapper {
                            
                            .root-level {
                                
                                margin: 0;
                                padding: 0;
                                list-style: none;
                                border-left: 1px solid $border-color;
                                border-left: rem( 1px ) solid $border-color;
                                background-color: transparent;
                            
                                .menu-parent {
                                    
                                    position: relative;
                                    width: 60px;
                                    width: rem( 60px );
                                    padding-top: rem( 11px );
                                    margin: 0;
                                    text-align: center;
                                    height: 38px;
                                    cursor: pointer;
                                    
                                    .menu {
                                    
                                        position: absolute;
                                        left: -20px;
                                        bottom: 38px;
                                        list-style: none;
                                        margin: 0;
                                        padding: 0;
                                        width: 100px;
                                        border: 1px solid $border-color;
                                        background-color: #fff;
                                        
                                        .menu-item {
                                            
                                            font-size: rem( 14px );
                                            margin: 0;
                                            padding: rem( 5px ) 0;
                                            height: auto;
                                            
                                            a {
                                                display: block;
                                                color: $font-color;
                                                text-decoration: none;
                                            }
                                            
                                        }
                                        
                                        .menu-item:hover {
                                            
                                            background-color: #0c3b6b;
                                            
                                            a {
                                                color: #fff;
                                            }
                                            
                                        }
                                        
                                        .menu-item:focus {
                                            
                                            background-color: #0c3b6b;
                                            
                                            a {
                                                color: #fff;
                                            }
                                            
                                        }
                                                                            
                                    }
                                    
                                }
                                
                                .menu-parent:hover {
                                    color: #0c3b6b;
                                }
                                
                            }
                            
                            ul[aria-hidden="true"] {
                                display: none;
                            }
                                                    
                        }
                        
                    }
                    
                }
                
                .side_panel {
                
                    position: relative;
                    border-left: 1px solid $border-color;
                    border-left: rem( 1px ) solid $border-color;
                    border-right: 1px solid $border-color;
                    border-right: rem( 1px ) solid $border-color;
                    border-bottom: 1px solid $border-color;
                    border-bottom: rem( 1px ) solid $border-color;
                    @include flex(1 1 $rightWidth);
                    
                    .topbar {
                        
                        height: 25px;     
                        height: rem( 25px );
                        background-color: #ececed;
                        border-bottom: 2px solid $border-color;
                        border-bottom: rem( 2px ) solid $border-color;
                        
                        .title {
                            font-size: 14px;
                            font-size: rem( 14px );
                            font-weight: bold;
                            color: #494949;
                            padding: 4px 0 0 10px;
                            padding: rem( 4px ) 0 0 rem( 10px );
                        }
                        
                    }
                    
                    .tableOfContents {
                                
                        height: 97.3%;
                        overflow-y: auto;
                        @include user-select( none );
                        
                        .section {
                            
                            .header {
                                
                                @include display-flex( flex );
                                @include align-items( center );
                                
                                width: 100%;
                                height: rem( 40px );
                                background-color: #f2f2f2;
                                font-size: 12px;
                                font-size: rem( 12px );
                                line-height: 16px;
                                line-height: rem( 16px );
                                color: #494949;
                                cursor: pointer;
                                border-bottom: 1px solid $border-color;
                                border-bottom: rem( 1px ) solid $border-color;
                                
                                .title {
                                    @include flex(2 1 88%);
                                    padding: 0 10px;
                                    padding: 0 rem( 10px );
                                    font-weight: bold;
                                    margin-bottom: 0;
                                    @include excerpt( rem( 12px ), 1.2, 2, #f2f2f2 );
                                }
                                
                                .expandCollapseIcon {
                                    @include flex(1 1 12%);
                                    line-height: 0;
                                    text-align: center;
                                    padding-left: 1px;
                                    padding-left: rem( 1px );
                                }
                                
                            }
                            
                            .header.current {
                                
                                //color: #fff;
                                border-left: 5px solid #06498d;
                                
                                .title {
                                    padding-left: 5px;
                                    padding-left: rem( 5px );
                                }
                                
                            }
                            
                            .content {
                                
                                font-size: 12px;
                                font-size: rem( 12px );
                                line-height: 14px;
                                line-height: rem( 14px );
                                border-bottom: 1px solid $border-color;
                                border-bottom: rem( 1px ) solid $border-color;
                                background-color: #fff;
                                
                                ul {
                                    
                                    margin: 0;
                                    padding: 0;
                                    list-style: none;
                                    
                                    li {
                                        
                                        padding: 10px 0 10px 30px;
                                        padding: rem( 10px ) 0 rem( 10px ) rem( 30px );
                                        margin: 0;
                                        cursor: pointer;
                                        text-indent: -30px;
                                        text-indent: rem( -30px );
                                        
                                        .num {
                                            display: inline-block;
                                            width: 17px;
                                            width: rem( 17px );
                                            margin-left: 10px;
                                            margin-left: rem( 10px );
                                            text-align: right;
                                        }
                                        
                                        .icon-assessment {
                                            display: inline-block;
                                            width: 17px;
                                            width: rem( 17px );
                                            margin: 0 5px;
                                            margin: 0 rem( 5px );
                                            text-align: right;
                                        }
                                        
                                    }
                                    
                                    li.selected {
                                        color: #fff;
                                        background-color: $default-accent;
                                    }
                                    
                                    li:hover {
                                        color: #fff;
                                        background-color: #0c3b6b;
                                    }
                                    
                                }
                                
                            }
                            
                        }
                        
                        .section:last-child {
                            
                            .content {
                                border-bottom: none;
                            }
                            
                        }
                        
                    }
                    
                } // end side panel
                
            } // end main content
            
            #menu_panel {
                
                position: absolute;
                width: $rightWidth;
                height: 100%;
                top: 0;
                right: 0;
                background-color: $border-color;
                border-bottom: 1px solid $border-color;
                border-bottom: rem( 1px ) solid $border-color;
                z-index: 3;
                overflow: hidden;
                
                .menu_bar {
                    
                    @include display-flex( flex );
                    @include flex-direction( row );
                    @include flex-wrap( nowrap );
                    
                    height: 30px;
                    height: rem( 30px );
                    color: #fff;
                    background-color: $font-color;
                    text-align: right;
                    
                    .closeBtn {
                        
                        @include flex(1 1 12%);
                        height: 30px;
                        height: rem( 30px );
                        text-align: center;
                        border: none;
                        color: #f00;
                        padding: 0;
                        line-height: 30px;
                        line-height: rem( 30px );
                        background-color: transparent;
                        
                        [class^="icon-"] {
                            font-size: 24px;
                            font-size: rem( 24px );
                            line-height: 30px;
                            line-height: rem( 30px );
                        }
                        
                    }
                    
                    .title {
                        @include flex(2 1 88%);
                        padding-top: 8px;
                        padding-top: rem( 8px );
                        padding-left: 10px;
                        padding-left: rem( 10px );
                        text-align: left;
                    }
                    
                }
                
                .menu {
                    
                    list-style: none;
                    margin: 0;
                    padding: 0;
                    background-color: #fff;
                    border-right: 1px solid $border-color;
                    border-right: rem( 1px ) solid $border-color;
                    border-left: 1px solid $border-color;
                    border-left: rem( 1px ) solid $border-color;
                    
                    .menu_item {
                        
                        margin: 0;
                        
                        a {
                            position: relative;
                            display: block;
                            color: $font-color;
                            text-decoration: none;
                            padding: 10px;
                            padding: rem( 10px );
                            border-bottom: 1px solid #d0d0d0;
                            border-bottom: rem( 1px ) solid #d0d0d0;
                        }
                        
                        a:after {
                            position: absolute;
                            width: 14px;
                            width: rem( 14px );
                            height: 14px;
                            height: rem( 14px );
                            font-size: 14px;
                            font-size: rem( 14px );
                            line-height: 14px;
                            line-height: rem( 14px );
                            color: #ccc;
                            top: 34%;
                            right: 10px;
                            right: rem( 10px );
                            font-family: 'sbplus' !important;
                            content: "\edba";
                        }
                        
                        a:hover {
                            color: $default-accent;
                        }
                        
                    }
                    
                }
                
                .menu_item_details {
                    
                    position: absolute;
                    width: 100%;
                    //height: 96.6%;
                    height: 100%;
                    top: 30px;
                    top: rem( 30px );
                    right: -258px;
                    right: rem( -258px );   
                    background-color: #fff;
                    border-left: 1px solid $border-color;
                    border-left: rem( 1px ) solid $border-color;
                    border-right: 1px solid $border-color;
                    border-right: rem( 1px ) solid $border-color;
                    
                    .navbar {
                                
                        @include display-flex( flex );
                        @include flex-direction( row );
                        @include flex-wrap( nowrap );
                        
                        width: 100%;
                        height: 2.882%;
                        min-height: rem( 25px );
                        background-color: #e4e4e4;
                        border-bottom: 1px solid $border-color;
                        border-bottom: rem( 1px ) solid $border-color;
                        
                        .backBtn {
                            display: block;
                            width: 5%;
                            min-width: rem( 44px );
                            font-size: 14px;
                            font-size: rem( 14px );
                            line-height: 14px;
                            line-height: rem( 14px );
                            color: #535cab;
                            background-color: transparent;
                            text-align: left;
                            padding: 1px 5px 0;
                            padding: rem( 1px ) rem( 5px ) 0;
                        }
                        
                        .title {
                            width: 95%;
                            padding-top: 5px;
                            padding-top: rem( 5px );
                            text-indent: -44px;
                            text-indent: rem( -44px );
                            text-align: center;
                        }
                        
                    }
                    
                    .menu_item_content {
                        
                        height: 97.1180%;
                        font-size: 14px;
                        font-size: rem( 14px );
                        line-height: 18px;
                        line-height: rem( 18px );
                        padding: 10px;
                        padding: rem( 10px );
                        overflow-y: auto;
                        
                        p:first-child {
                            margin-top: 8px;
                            margin-top: rem( 8px );
                            margin-bottom: 0;
                        }
                        
                        .profileImg {
                            display: block;
                            width: 100%;
                            height: auto;
                        }
                        
                        .name {
                            font-size: 18px;
                            font-size: rem( 18px );
                            font-weight: bolder;
                        }
                        
                        .sbplus_settings {
                            
                            .grid {
                                
                                @include display-flex();
                                @include flex-flow(column nowrap);
                                
                                .row {
                                    
                                    @include display-flex();
                                    @include flex-flow(row wrap);
                                    padding: 5px;
                                    
                                    .label {
                                        @include flex(2 1 80%);
                                    }
                                    
                                    .control {
                                        
                                        @include flex(1 1 20%);
                                        
                                        select, input {
                                            width: 100%;
                                        }
                                                                                
                                    }
                                    
                                }
                                
                                .row:nth-child(even) {
                                    background-color: #f2f2f2;
                                }
                                
                                .invalid {
                                        
                                    background-color: #ffa3a3 !important;
                                    
                                    input {
                                        color: #f00;
                                    }
                                    
                                    .emsg {
                                        margin: 0;
                                        font-size: 12px;
                                    }
                                    
                                }
                                
                            }
                            
                            button {
                                font-size: rem( 14px );
                                margin: rem( $gutter ) 0;
                                background-color: $default-accent;
                                padding: 8px 20px;
                            }
                            
                            button:disabled {
                                color: #333;
                                background-color: $border-color;
                                cursor: default;
                            }
                            
                        }
                        
                    }
                    
                }
                
            } // end menu panel
            
        } // end main content wrapper
        
        .full-view {
            
            .page_container.expanded {
                
                @include display-flex();
                @include flex-flow( column nowrap );
                @include align-items( stretch );
                width: 100%;
                
                .content {
            
                    height: 100%;
                    
                    .video-js.vjs-default-skin {
                        
                        @include display-flex();
                        @include justify-content(center);
                        @include flex-flow( column nowrap );
                        
                    }
                    
                    .assessment {
                        top: rem(30px);
                        border-right: rem( 1px ) solid $border-color;
                    }
                    
                }
                
                .html {
                    border-right: 1px solid $border-color; 
                }
                
            }
            
            .widget_container {
                
                position: relative;
                
                .left_side {
                    
                    position: relative;
                    
                    .notes {
                        
                        position: absolute;
                        height: 250px;
                        background-color: rgba(255, 255, 255, .96);
                        top: rem( 40px );
                        left: rem( 121px );
                        z-index: 2;
                        border-right: 1px solid $border-color;
                        border-right: rem( 1px ) solid $border-color;
                        @include border-radius( 4px 4px 0 0 );
                        
                    }
                    
                    .control_bar_wrapper {
                        border-right: 1px solid $border-color;
                        border-right: rem( 1px ) solid $border-color;
                    }
                    
                }
                
                .side_panel {
                    
                    position: absolute;
                    background-color: #fff;
                    top: -50px;
                    right: -30%;
                    margin: 0 !important;
                    z-index: 2;
                    border-bottom: none;
                    
                    .tableOfContents {
                        height: 97%;
                    }
                    
                }
                
            }
            
        } // end full-view
        
        .notes-minimized-view {
            
            .widget_container {
                
                position: relative;
                
                .left_side {
                    
                    position: relative;
                    
                    .notes {
                        
                        position: absolute;
                        background-color: rgba(255, 255, 255, .96);
                        height: 250px;
                        top: rem( 40px );
                        left: rem( 121px );
                        z-index: 0;
                        border-right: 1px solid $border-color;
                        border-right: rem( 1px ) solid $border-color;
                        @include border-radius( 4px 4px 0 0 );
                        
                    }
                    
                }
                
            }
            
        }
        
        .assessment-view {
            
            .page_container {
                
                .content {
                    
                    .assessment {
                        position: absolute;
                        top:0;
                        left: 0;
                        border-left: rem( 1px ) solid $border-color;
                        overflow-y: auto;
                    }
                }
                
            }
            
        }
        
    } // end sbplus
    
} // end sbplus_wrapper

@media (max-width: 799px) {
    .sbplus_wrapper {
        
        .sbplus {
            
            .splashscreen {
                
                .splashinfo_wrapper {
                
                    .splashinfo {
                        
                        max-width: 75%;
                        height: auto !important;
                        
                        .playControls {
                            
                            display: block;
                            
                            .startBtn {
                                display: block;
                                width: 100%;
                                margin: 0 0 rem( 5px );
                            }
                            
                            .resumeBtn {
                                margin: 0;
                            }
                            
                        }
                        
                        .download_files {
                            
                            display: block !important;
                            height: auto;
                            
                            .dl_item {
                                display: block;
                                width: 100%;
                                margin: 0 0 rem( 3px ); 
                            }
                            
                            .dl_item:last-child {
                                margin-bottom: 0;
                            }
                            
                        }
                        
                    }
                    
                }
                
            }
            
        }
        
    }
    
}

/*** iPhone 6+ portrait ***/

@media only screen and (min-device-width : 414px) and (max-device-width : 736px) 
and (orientation : portrait) { 
    
    * {
        outline: none !important;
    }
    
    .sbplus_wrapper {
        
        .sbplus {
        
            .main_content_wrapper {
                
                .title_bar {
                    
                    .author {
                        display: none;
                    }
                    
                }
                
                .page_container {
                    width: 100%;
                }
                
                .widget_container {
                
                    display: block !important;
                    height: 58.1401% !important;
                    
                    .left_side {
                        
                        position: relative;
                        width: 100% !important;
                        
                        .notes {
                            position: absolute;
                            height: 812.8%;
                            top: 40px !important;
                            top: rem( 40px ) !important;
                            left: 0;
                            z-index: 1;
                            background-color: #fff;
                            overflow-y: auto;
                            border: 1px solid #ccc;
                            border: rem( 1px ) solid #ccc;
                        }
                        
                        .control_bar_wrapper {
                            
                            button:hover {
                                color: $font-color;
                            }
                            
                            .right_controls {
                                
                                .downloadsBtn {
                                    display: none;
                                }
                                .expandContractBtn {
                                    display: none;
                                }
                                
                            }
                        }
                        
                    }
                    
                    .side_panel {
                        
                        width: 100% !important;
                        height: 89.0447% !important;
                        
                        .tableOfContents {
                            
                            height: 92.3105% !important;
                            
                            .section {
                                
                                .content {
                                    
                                    ul {
                                        
                                        li:hover {
                                            color: $font-color;
                                            background-color: transparent;
                                        }
                                        
                                    }
                                    
                                }
                                
                            }
                            
                        }
                        
                    }
                
                }
                
                #menu_panel {
                    
                    width: 100% !important;
                    
                    .menu {
                        border: none !important;
                    }
                    
                }
                
            }
            
        }
        
    }
    
}

/*** iPhone 6+ lanscape ***/

@media only screen 
and (min-device-width : 414px) 
and (max-device-width : 736px) 
and (orientation : landscape) {
    
    * {
        outline: none !important;
    }
    
    .sbplus_wrapper {
        
        .sbplus {
        
            .main_content_wrapper {
                
                position: relative;
                
                .title_bar {
                    display: none;
                }
                
                .page_container {
                    width: 100%;
                }
                
                .widget_container {
                    display: none;
                }
                
            }
        }
        
    }
}

/**************************
    MISC./HELPER RULES
**************************/
[class^="sr-"],
.sr-only {
    position: absolute !important;
    width: 1px;
    height: 1px;
    overflow: hidden;
    clip: rect(1px, 1px, 1px, 1px);
}
.IIV::-webkit-media-controls-play-button,
.IIV::-webkit-media-controls-start-playback-button,
.IIV::-webkit-media-controls-panel,
.IIV::-webkit-full-page-media::-webkit-media-controls-panel,
.IIV::-webkit-media-controls {
    opacity: 0 !important;
    display: none !important;
    -webkit-appearance: none !important;
}

.IIV::-webkit-media-controls-enclosure {
    display: none !important;
    opacity: 0 !important;
    -webkit-appearance: none !important;
}
.hide {
    display: none !important;
}

.sr-only {
    display: none;
}