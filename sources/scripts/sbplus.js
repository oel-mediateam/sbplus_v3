var sbplus=sbplus||{accent:"#535cab",slideFormat:"jpg",analytics:"off",xmlVersion:"3"};$(function(){$.getJSON($.fn.getConfigFileUrl(),function(t){$.fn.loadSBPlus(t)}).fail(function(){$(".sbplus_wrapper").html('<div class="error"><h1>Configuration file (manifest.json) is not found!</h1><p>Please make sure the index.html file is compatible with Storybook Plus version 3.</p></div>')})}),$.fn.loadSBPlus=function(t){$(this).haveCoreFeatures()?$.get("assets/sbplus.xml",function(e){$.fn.loadPresentation(t,$(e))}).fail(function(){$(".sbplus_wrapper").html('<div class="error"><h1>Table of Contents XML file (sbplus.xml) is not found!</h1><p>Please make sure the XML file exists in the assets directory and compatible with Storybook Plus version 3.</p></div>')}):$.get(t.sbplus_root_directory+"scripts/templates/nosupport.tpl",function(t){$(".sbplus_wrapper").html(t)}).fail(function(){$(".sbplus_wrapper").html('<div class="error"><h1>Template file not found!</h1><p>nosupport.tpl file not found in the templates directory.</p></div>')})},$.fn.loadPresentation=function(t,e){var s=e.find("storybook"),n=e.find("setup");sbplus.title=n.find("title").text(),sbplus.subtitle=n.find("subtitle").text(),sbplus.author=n.find("author").attr("name"),sbplus.authorBio=n.find("author").text(),sbplus.length=n.find("length").text(),sbplus.generalInfo=n.find("generalInfo").text(),sbplus.courseNumber=n.attr("courseNumber"),sbplus.accent=$.fn.isEmpty(s.attr("accent"))?sbplus.accent:s.attr("accent"),sbplus.slideFormat=$.fn.isEmpty(s.attr("slideFormat"))?sbplus.slideFormat:s.attr("slideFormat"),sbplus.analytics=$.fn.isEmpty(s.attr("analytics"))?sbplus.analytics:s.attr("analytics"),$(document).attr("title",sbplus.title),$.get(t.sbplus_root_directory+"scripts/templates/sbplus.tpl",function(e){$(".sbplus_wrapper").html(e),$.get(t.sbplus_root_directory+"scripts/templates/splashscreen.tpl",function(e){$(".splashscreen").html(e);var s=t.sbplus_splash_directory+$.fn.getProgramDirectory()+($.fn.isEmpty(sbplus.courseNumber)?"":sbplus.courseNumber)+".jpg";$.get(s,function(){$(".splashscreen").css("background-image","url("+s+")")}).fail(function(){$.get("assets/splash.jpg",function(){$(".splashscreen").css("background-image","url(assets/splash.jpg)")}).fail(function(){$(".splashscreen").css("background-image","url("+t.sbplus_root_directory+"images/default.jpg)")})}),$(".splashinfo .title").html(sbplus.title),$(".splashinfo .subtitle").html(sbplus.subtitle),$(".splashinfo .author").html(sbplus.author),$(".splashinfo .length").html(sbplus.length),$(".splashinfo .startBtn").css("background-color",sbplus.accent),navigator.cookieEnabled&&document.cookie&&$(".splashinfo .resumeBtn").css("background-color",sbplus.accent).removeClass("hide"),$(".splashinfo .startBtn").on("click",function(){$(".splashscreen").fadeOut("fast",function(){$(".main_content_wrapper").css("display","flex").fadeIn(500,function(){$(this).removeClass("hide"),$.fn.setupPresentation()}),$(this).remove()})})}).fail(function(){$(".sbplus_wrapper").html('<div class="error"><h1>Template file not found!</h1><p>splashscreen.tpl file not found in the templates directory.</p></div>')})}).fail(function(){$(".sbplus_wrapper").html('<div class="error"><h1>Template file not found!</h1><p>sbplus.tpl file not found in the templates directory.</p></div>')})},$.fn.setupPresentation=function(){$(".title_bar .title").html(sbplus.title),$(".author").html(sbplus.author),$.fn.bindMenuEvents()},$.fn.haveCoreFeatures=function(){return Modernizr.audio&&Modernizr.video&&Modernizr.json&&Modernizr.flexbox?!0:!1},$.fn.getConfigFileUrl=function(){var t=document.getElementById("sbplus_configs");return null===t?!1:t.href},$.fn.getProgramDirectory=function(){var t=window.location.href.split("/");return($.fn.isEmpty(t[t.length-1])||new RegExp("[?]").test(t[t.length-1]))&&t.splice(t.length-1,1),void 0===t[4]?t[3]:t[4]},$.fn.isEmpty=function(t){var e=t.trim();return!e||0===e.length},$.fn.bindMenuEvents=function(){$(".menuBtn").on("click",function(){return $(this).attr("aria-expanded","true"),$("#menu_panel").removeClass("hide").attr("aria-expanded","true"),!1}),$("#showProfile").on("click",function(){return $(this).showMenuItemDetails("Author Profile",sbplus.authorBio),!1}),$("#showGeneralInfo").on("click",function(){return $(this).showMenuItemDetails("General Information",sbplus.generalInfo),!1}),$("#showHelp").on("click",function(){return $(this).showMenuItemDetails("Help","<p>Help information go here...</p>"),!1}),$("#showSettings").on("click",function(){return $(this).showMenuItemDetails("Settings","<p>Settings go here...</p>"),!1}),$(".backBtn").on("click",function(){return $.fn.hideMenuItemDetails(),!1}),$(".closeBtn").on("click",function(){return $(".menuBtn").attr("aria-expanded","false"),$("#menu_panel").addClass("hide").attr("aria-expanded","false"),$.fn.hideMenuItemDetails(),!1})},$.fn.showMenuItemDetails=function(t,e){$(this).attr("aria-expanded","true"),$(".menu_item_details").attr("aria-expanded","true"),$(".menu_item_details .navbar .title").html(t),$(".menu_item_details .menu_item_content").html(e),$(".menu_item_details").removeClass("hide").animate({right:"0px"},250)},$.fn.hideMenuItemDetails=function(){$(".menu_item a").attr("aria-expanded","false"),$(".menu_item_details").attr("aria-expanded","false").animate({right:"-258px"},250,function(){$(this).addClass("hide")})};